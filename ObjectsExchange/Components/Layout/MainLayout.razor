@inherits LayoutComponentBase
@inject NavigationManager NavigationManager

<RadzenComponents @rendermode=InteractiveWebAssembly />
<RadzenLayout @ref="radzenLayout">
     <RadzenHeader Style="min-height:auto" @ref="radzenHeader">
        <RadzenStack Orientation="Orientation.Horizontal" AlignItems="AlignItems.End" JustifyContent="JustifyContent.SpaceBetween" class="rz-ml-2">
            <RadzenStack Orientation="Orientation.Horizontal" Style="margin-bottom:auto;margin-top:auto">
                <RadzenSidebarToggle Click="@(() => sideBarExpanded = !sideBarExpanded)" />
            </RadzenStack>
        <RadzenStack Orientation="Orientation.Horizontal" class="rz-my-auto">
                <RadzenLink Image="images/github-mark/github-mark-white.svg" Path="https://github.com/sabatex/SabatexObjectsExcange" class="rz-my-auto" />
             <RadzenAppearanceToggle />
            <LoginDisplay/>
        </RadzenStack>
        </RadzenStack> 
        </RadzenHeader>
       <RadzenSidebar @bind-Expanded="@sideBarExpanded">
        <RadzenPanelMenu>
            <RadzenPanelMenuItem Text="Home" Icon="home" Path="/" />
            <AuthorizeView>
                <Authorized>
                    <RadzenPanelMenuItem Text="Clients" Icon="info" Path="client/list" />
                </Authorized>
                <NotAuthorized>
                </NotAuthorized>
            </AuthorizeView>
            <AuthorizeView>
                <Authorized>
                    <RadzenPanelMenuItem Icon="person" Path="Account/Manage" Text="@context.User.Identity?.Name" class="rz-my-auto" />
                </Authorized>
            <NotAuthorized> </NotAuthorized>
        </AuthorizeView>

        </RadzenPanelMenu>
     </RadzenSidebar>
  
     <RadzenBody>
        @Body
     </RadzenBody>
</RadzenLayout> 

@code{
    RadzenLayout? radzenLayout;
    RadzenHeader? radzenHeader;
    bool sideBarExpanded = true;
    private string? currentUrl;

}